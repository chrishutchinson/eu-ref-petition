(function($) {

  var app = {

    init: function() {
      this.loadData();
    },

    results: [{"id":1,"name":"Aberdeen","time":"03:09","population":154262,"turnout":104714,"leave":40729,"remain":63985},{"id":2,"name":"Aberdeenshire","time":"04:36","population":196804,"turnout":138961,"leave":62516,"remain":76445},{"id":3,"name":"Adur","time":"04:32","population":48754,"turnout":37229,"leave":20315,"remain":16914},{"id":4,"name":"Allerdale","time":"03:12","population":74509,"turnout":54238,"leave":31809,"remain":22429},{"id":5,"name":"Amber Valley","time":"04:46","population":96753,"turnout":73820,"leave":44501,"remain":29319},{"id":6,"name":"Anglesey","time":"02:18","population":51445,"turnout":37951,"leave":19333,"remain":18618},{"id":7,"name":"Angus","time":"02:12","population":87134,"turnout":59258,"leave":26511,"remain":32747},{"id":8,"name":"Argyll & Bute","time":"03:51","population":66634,"turnout":48696,"leave":19202,"remain":29494},{"id":9,"name":"Arun","time":"06:01","population":117117,"turnout":91129,"leave":56936,"remain":34193},{"id":10,"name":"Ashfield","time":"05:06","population":91909,"turnout":66899,"leave":46720,"remain":20179},{"id":11,"name":"Ashford","time":"03:25","population":90508,"turnout":69786,"leave":41472,"remain":28314},{"id":12,"name":"Aylesbury Vale","time":"04:53","population":136235,"turnout":106833,"leave":53956,"remain":52877},{"id":13,"name":"Babergh","time":"05:07","population":70628,"turnout":55242,"leave":29933,"remain":25309},{"id":14,"name":"Barking & Dagenham","time":"02:34","population":115801,"turnout":73880,"leave":46130,"remain":27750},{"id":15,"name":"Barnet","time":"04:52","population":223460,"turnout":161033,"leave":60823,"remain":100210},{"id":16,"name":"Barnsley","time":"03:38","population":175760,"turnout":122909,"leave":83958,"remain":38951},{"id":17,"name":"Barrow-in-Furness","time":"03:22","population":53194,"turnout":36074,"leave":21867,"remain":14207},{"id":18,"name":"Basildon","time":"01:52","population":132762,"turnout":97999,"leave":67251,"remain":30748},{"id":19,"name":"Basingstoke & Deane","time":"06:57","population":128677,"turnout":100328,"leave":52071,"remain":48257},{"id":20,"name":"Bassetlaw","time":"04:18","population":85557,"turnout":63967,"leave":43392,"remain":20575},{"id":21,"name":"Bath & North East Somerset","time":"04:10","population":136497,"turnout":105230,"leave":44352,"remain":60878},{"id":22,"name":"Bedford","time":"03:56","population":119317,"turnout":86066,"leave":44569,"remain":41497},{"id":23,"name":"Bexley","time":"03:54","population":170772,"turnout":128489,"leave":80886,"remain":47603},{"id":24,"name":"Birmingham","time":"04:41","population":707210,"turnout":450702,"leave":227251,"remain":223451},{"id":25,"name":"Blaby","time":"05:07","population":73832,"turnout":56471,"leave":33583,"remain":22888},{"id":26,"name":"Blackburn with Darwen","time":"04:13","population":100116,"turnout":65321,"leave":36799,"remain":28522},{"id":27,"name":"Blackpool","time":"02:41","population":102350,"turnout":66927,"leave":45146,"remain":21781},{"id":28,"name":"Blaenau Gwent","time":"01:58","population":51127,"turnout":34802,"leave":21587,"remain":13215},{"id":29,"name":"Bolsover","time":"05:00","population":58058,"turnout":41972,"leave":29730,"remain":12242},{"id":30,"name":"Bolton","time":"03:36","population":197096,"turnout":138080,"leave":80491,"remain":57589},{"id":31,"name":"Boston","time":"03:12","population":39363,"turnout":30404,"leave":22974,"remain":7430},{"id":32,"name":"Bournemouth","time":"03:46","population":132734,"turnout":91926,"leave":50453,"remain":41473},{"id":33,"name":"Bracknell Forest","time":"02:29","population":85298,"turnout":64890,"leave":35002,"remain":29888},{"id":34,"name":"Bradford","time":"05:13","population":342817,"turnout":228488,"leave":123913,"remain":104575},{"id":35,"name":"Braintree","time":"03:54","population":112566,"turnout":86236,"leave":52713,"remain":33523},{"id":36,"name":"Breckland","time":"05:19","population":98985,"turnout":73548,"leave":47235,"remain":26313},{"id":37,"name":"Brent","time":"04:57","population":186750,"turnout":121404,"leave":48881,"remain":72523},{"id":38,"name":"Brentwood","time":"01:57","population":58777,"turnout":46704,"leave":27627,"remain":19077},{"id":39,"name":"Bridgend","time":"03:07","population":104492,"turnout":74345,"leave":40622,"remain":33723},{"id":40,"name":"Brighton & Hove","time":"05:49","population":198241,"turnout":146675,"leave":46027,"remain":100648},{"id":41,"name":"Bristol","time":"04:02","population":312450,"turnout":228445,"leave":87418,"remain":141027},{"id":42,"name":"Broadland","time":"05:45","population":99249,"turnout":77737,"leave":42268,"remain":35469},{"id":43,"name":"Bromley","time":"05:11","population":231478,"turnout":182432,"leave":90034,"remain":92398},{"id":44,"name":"Bromsgrove","time":"03:29","population":74151,"turnout":58815,"leave":32563,"remain":26252},{"id":45,"name":"Broxbourne","time":"00:54","population":68990,"turnout":50872,"leave":33706,"remain":17166},{"id":46,"name":"Broxtowe","time":"03:59","population":83576,"turnout":65426,"leave":35754,"remain":29672},{"id":47,"name":"Burnley","time":"02:30","population":64464,"turnout":43316,"leave":28854,"remain":14462},{"id":48,"name":"Bury","time":"02:02","population":141600,"turnout":101028,"leave":54674,"remain":46354},{"id":49,"name":"Caerphilly","time":"02:28","population":130773,"turnout":92473,"leave":53295,"remain":39178},{"id":50,"name":"Calderdale","time":"04:36","population":149191,"turnout":105925,"leave":58975,"remain":46950},{"id":51,"name":"Cambridge","time":"04:01","population":80099,"turnout":57799,"leave":15117,"remain":42682},{"id":52,"name":"Camden","time":"04:33","population":145328,"turnout":95133,"leave":23838,"remain":71295},{"id":53,"name":"Cannock Chase","time":"03:14","population":75010,"turnout":53578,"leave":36894,"remain":16684},{"id":54,"name":"Canterbury","time":"03:37","population":109399,"turnout":82048,"leave":41879,"remain":40169},{"id":55,"name":"Cardiff","time":"04:01","population":243686,"turnout":169604,"leave":67816,"remain":101788},{"id":56,"name":"Carlisle","time":"03:17","population":80136,"turnout":59683,"leave":35895,"remain":23788},{"id":57,"name":"Carmarthenshire","time":"03:08","population":139222,"turnout":103035,"leave":55381,"remain":47654},{"id":58,"name":"Castle Point","time":"03:02","population":68860,"turnout":51845,"leave":37691,"remain":14154},{"id":59,"name":"Central Bedfordshire","time":"05:28","population":204021,"turnout":158804,"leave":89134,"remain":69670},{"id":60,"name":"Ceredigion","time":"02:51","population":54464,"turnout":39742,"leave":18031,"remain":21711},{"id":61,"name":"Charnwood","time":"04:08","population":133780,"turnout":94172,"leave":50672,"remain":43500},{"id":62,"name":"Chelmsford","time":"03:42","population":129966,"turnout":100794,"leave":53249,"remain":47545},{"id":63,"name":"Cheltenham","time":"05:49","population":87059,"turnout":66013,"leave":28932,"remain":37081},{"id":64,"name":"Cherwell","time":"06:09","population":108323,"turnout":81836,"leave":41168,"remain":40668},{"id":65,"name":"Cheshire East","time":"04:49","population":285941,"turnout":221125,"leave":113163,"remain":107962},{"id":66,"name":"Cheshire West & Chester","time":"05:58","population":259878,"turnout":193537,"leave":98082,"remain":95455},{"id":67,"name":"Chesterfield","time":"04:11","population":79905,"turnout":57424,"leave":34478,"remain":22946},{"id":68,"name":"Chichester","time":"04:08","population":91659,"turnout":71337,"leave":36326,"remain":35011},{"id":69,"name":"Chiltern","time":"04:33","population":70189,"turnout":58604,"leave":26363,"remain":32241},{"id":70,"name":"Chorley","time":"03:47","population":84159,"turnout":63515,"leave":36098,"remain":27417},{"id":71,"name":"Christchurch","time":"05:39","population":39175,"turnout":31050,"leave":18268,"remain":12782},{"id":72,"name":"City of London","time":"02:02","population":5986,"turnout":4399,"leave":1087,"remain":3312},{"id":73,"name":"Clackmannanshire","time":"00:15","population":37841,"turnout":25427,"leave":10736,"remain":14691},{"id":74,"name":"Colchester","time":"03:21","population":127519,"turnout":95719,"leave":51305,"remain":44414},{"id":75,"name":"Comhairle Nan Eilean Siar","time":"01:32","population":21259,"turnout":14903,"leave":6671,"remain":8232},{"id":76,"name":"Conwy","time":"02:26","population":91364,"turnout":65504,"leave":35357,"remain":30147},{"id":77,"name":"Copeland","time":"03:59","population":54206,"turnout":37947,"leave":23528,"remain":14419},{"id":78,"name":"Corby","time":"02:42","population":43310,"turnout":32081,"leave":20611,"remain":11470},{"id":79,"name":"Cornwall","time":"07:00","population":419738,"turnout":323205,"leave":182665,"remain":140540},{"id":80,"name":"Cotswold","time":"03:49","population":68721,"turnout":54821,"leave":26806,"remain":28015},{"id":81,"name":"Coventry","time":"03:14","population":221221,"turnout":153064,"leave":85097,"remain":67967},{"id":82,"name":"Craven","time":"02:36","population":44320,"turnout":35891,"leave":18961,"remain":16930},{"id":83,"name":"Crawley","time":"03:23","population":73570,"turnout":53835,"leave":31447,"remain":22388},{"id":84,"name":"Croydon","time":"04:30","population":245332,"turnout":171134,"leave":78221,"remain":92913},{"id":85,"name":"Dacorum","time":"05:47","population":108965,"turnout":86244,"leave":43702,"remain":42542},{"id":86,"name":"Darlington","time":"03:12","population":77664,"turnout":55166,"leave":30994,"remain":24172},{"id":87,"name":"Dartford","time":"04:08","population":73951,"turnout":55855,"leave":35870,"remain":19985},{"id":88,"name":"Daventry","time":"04:16","population":61013,"turnout":49381,"leave":28938,"remain":20443},{"id":89,"name":"Denbighshire","time":"02:11","population":75361,"turnout":52072,"leave":28117,"remain":23955},{"id":90,"name":"Derby","time":"06:25","population":172214,"turnout":120655,"leave":69043,"remain":51612},{"id":91,"name":"Derbyshire Dales","time":"04:00","population":57063,"turnout":46728,"leave":24095,"remain":22633},{"id":92,"name":"Doncaster","time":"03:43","population":217422,"turnout":151182,"leave":104260,"remain":46922},{"id":93,"name":"Dover","time":"04:00","population":85009,"turnout":65016,"leave":40410,"remain":24606},{"id":94,"name":"Dudley","time":"04:55","population":244491,"turnout":175226,"leave":118446,"remain":56780},{"id":95,"name":"Dumfries & Galloway","time":"04:31","population":115824,"turnout":82667,"leave":38803,"remain":43864},{"id":96,"name":"Dundee","time":"01:23","population":105544,"turnout":66385,"leave":26697,"remain":39688},{"id":97,"name":"Durham","time":"03:39","population":389500,"turnout":267398,"leave":153877,"remain":113521},{"id":98,"name":"Ealing","time":"03:32","population":212991,"turnout":149041,"leave":59017,"remain":90024},{"id":99,"name":"East Ayrshire","time":"01:34","population":91970,"turnout":57833,"leave":23942,"remain":33891},{"id":100,"name":"East Cambridgeshire","time":"05:02","population":62419,"turnout":48086,"leave":24487,"remain":23599},{"id":101,"name":"East Devon","time":"04:37","population":112542,"turnout":88783,"leave":48040,"remain":40743},{"id":102,"name":"East Dorset","time":"05:43","population":71965,"turnout":58488,"leave":33702,"remain":24786},{"id":103,"name":"East Dunbartonshire","time":"02:31","population":83026,"turnout":62374,"leave":17840,"remain":44534},{"id":104,"name":"East Hampshire","time":"04:20","population":90543,"turnout":73922,"leave":36576,"remain":37346},{"id":105,"name":"East Hertfordshire","time":"04:27","population":106254,"turnout":85366,"leave":42994,"remain":42372},{"id":106,"name":"East Lindsey","time":"05:56","population":107021,"turnout":80128,"leave":56613,"remain":23515},{"id":107,"name":"East Lothian","time":"02:29","population":77787,"turnout":55764,"leave":19738,"remain":36026},{"id":108,"name":"East Northamptonshire","time":"05:09","population":68329,"turnout":52574,"leave":30894,"remain":21680},{"id":109,"name":"East Renfrewshire","time":"02:06","population":69572,"turnout":52941,"leave":13596,"remain":39345},{"id":110,"name":"East Riding of Yorkshire","time":"03:32","population":265655,"turnout":198915,"leave":120136,"remain":78779},{"id":111,"name":"East Staffordshire","time":"04:24","population":83558,"turnout":62116,"leave":39266,"remain":22850},{"id":112,"name":"Eastbourne","time":"03:07","population":71716,"turnout":53545,"leave":30700,"remain":22845},{"id":113,"name":"Eastleigh","time":"03:46","population":97280,"turnout":76074,"leave":39902,"remain":36172},{"id":114,"name":"Eden","time":"02:08","population":41872,"turnout":31718,"leave":16911,"remain":14807},{"id":115,"name":"Edinburgh","time":"03:36","population":346056,"turnout":252294,"leave":64498,"remain":187796},{"id":116,"name":"Elmbridge","time":"05:36","population":98579,"turnout":77003,"leave":31162,"remain":45841},{"id":117,"name":"Enfield","time":"04:30","population":198359,"turnout":136906,"leave":60481,"remain":76425},{"id":118,"name":"Epping Forest","time":"03:32","population":100016,"turnout":76852,"leave":48176,"remain":28676},{"id":119,"name":"Epsom & Ewell","time":"03:45","population":56374,"turnout":45303,"leave":21707,"remain":23596},{"id":120,"name":"Erewash","time":"03:14","population":87592,"turnout":66530,"leave":40739,"remain":25791},{"id":121,"name":"Exeter","time":"02:20","population":86418,"turnout":63803,"leave":28533,"remain":35270},{"id":122,"name":"Falkirk","time":"02:25","population":117390,"turnout":79258,"leave":34271,"remain":44987},{"id":123,"name":"Fareham","time":"02:28","population":90174,"turnout":71735,"leave":39525,"remain":32210},{"id":124,"name":"Fenland","time":"04:02","population":71440,"turnout":52626,"leave":37571,"remain":15055},{"id":125,"name":"Fife","time":"03:22","population":272987,"turnout":182220,"leave":75466,"remain":106754},{"id":126,"name":"Flintshire","time":"01:56","population":115954,"turnout":86797,"leave":48930,"remain":37867},{"id":127,"name":"Forest Heath","time":"03:09","population":38525,"turnout":27951,"leave":18160,"remain":9791},{"id":128,"name":"Forest of Dean","time":"03:05","population":66702,"turnout":51643,"leave":30251,"remain":21392},{"id":129,"name":"Fylde","time":"03:19","population":61174,"turnout":46206,"leave":26317,"remain":19889},{"id":130,"name":"Gateshead","time":"03:19","population":145843,"turnout":102958,"leave":58529,"remain":44429},{"id":131,"name":"Gedling","time":"04:54","population":88288,"turnout":67577,"leave":37542,"remain":30035},{"id":132,"name":"Gibraltar","time":"23:36","population":24117,"turnout":20145,"leave":823,"remain":19322},{"id":133,"name":"Glasgow","time":"02:22","population":449731,"turnout":252809,"leave":84474,"remain":168335},{"id":134,"name":"Gloucester","time":"03:00","population":89714,"turnout":64577,"leave":37776,"remain":26801},{"id":135,"name":"Gosport","time":"02:38","population":62778,"turnout":46127,"leave":29456,"remain":16671},{"id":136,"name":"Gravesham","time":"04:10","population":72801,"turnout":54519,"leave":35643,"remain":18876},{"id":137,"name":"Great Yarmouth","time":"03:24","population":72625,"turnout":50128,"leave":35844,"remain":14284},{"id":138,"name":"Greenwich","time":"04:51","population":168967,"turnout":117365,"leave":52117,"remain":65248},{"id":139,"name":"Guildford","time":"06:10","population":106278,"turnout":78613,"leave":34458,"remain":44155},{"id":140,"name":"Gwynedd","time":"04:39","population":84575,"turnout":61182,"leave":25665,"remain":35517},{"id":141,"name":"Hackney","time":"03:46","population":163284,"turnout":106266,"leave":22868,"remain":83398},{"id":142,"name":"Halton","time":"03:21","population":95280,"turnout":65005,"leave":37327,"remain":27678},{"id":143,"name":"Hambleton","time":"04:11","population":70139,"turnout":54982,"leave":29502,"remain":25480},{"id":144,"name":"Hammersmith & Fulham","time":"02:37","population":114843,"turnout":80242,"leave":24054,"remain":56188},{"id":145,"name":"Harborough","time":"05:40","population":67427,"turnout":54878,"leave":27850,"remain":27028},{"id":146,"name":"Haringey","time":"03:16","population":150097,"turnout":105846,"leave":25855,"remain":79991},{"id":147,"name":"Harlow","time":"02:07","population":59123,"turnout":43469,"leave":29602,"remain":13867},{"id":148,"name":"Harrogate","time":"03:57","population":119977,"turnout":94585,"leave":46374,"remain":48211},{"id":149,"name":"Harrow","time":"04:29","population":162387,"turnout":117225,"leave":53183,"remain":64042},{"id":150,"name":"Hart","time":"03:36","population":69946,"turnout":57795,"leave":27513,"remain":30282},{"id":151,"name":"Hartlepool","time":"01:57","population":70337,"turnout":46100,"leave":32071,"remain":14029},{"id":152,"name":"Hastings","time":"03:41","population":61947,"turnout":44350,"leave":24339,"remain":20011},{"id":153,"name":"Havant","time":"02:59","population":95366,"turnout":70629,"leave":44047,"remain":26582},{"id":154,"name":"Havering","time":"05:05","population":183067,"turnout":139086,"leave":96885,"remain":42201},{"id":155,"name":"Herefordshire","time":"04:48","population":138247,"turnout":108270,"leave":64122,"remain":44148},{"id":156,"name":"Hertsmere","time":"02:52","population":73284,"turnout":56125,"leave":28532,"remain":27593},{"id":157,"name":"High Peak","time":"04:07","population":72487,"turnout":54833,"leave":27717,"remain":27116},{"id":158,"name":"Highland","time":"03:30","population":175557,"turnout":125657,"leave":55349,"remain":70308},{"id":159,"name":"Hillingdon","time":"05:19","population":193026,"turnout":133022,"leave":74982,"remain":58040},{"id":160,"name":"Hinckley & Bosworth","time":"04:33","population":85295,"turnout":65470,"leave":39501,"remain":25969},{"id":161,"name":"Horsham","time":"05:05","population":104280,"turnout":85088,"leave":41303,"remain":43785},{"id":162,"name":"Hounslow","time":"03:53","population":165031,"turnout":115076,"leave":56321,"remain":58755},{"id":163,"name":"Huntingdonshire","time":"04:08","population":128479,"turnout":99927,"leave":54198,"remain":45729},{"id":164,"name":"Hyndburn","time":"02:36","population":62037,"turnout":40137,"leave":26568,"remain":13569},{"id":165,"name":"Inverclyde","time":"01:54","population":58624,"turnout":38698,"leave":14010,"remain":24688},{"id":166,"name":"Ipswich","time":"03:42","population":91647,"turnout":66353,"leave":38655,"remain":27698},{"id":167,"name":"Isle of Wight","time":"02:56","population":109840,"turnout":79380,"leave":49173,"remain":30207},{"id":168,"name":"Isles of Scilly","time":"00:49","population":1799,"turnout":1424,"leave":621,"remain":803},{"id":169,"name":"Islington","time":"02:57","population":144507,"turnout":101600,"leave":25180,"remain":76420},{"id":170,"name":"Kensington & Chelsea","time":"03:49","population":83035,"turnout":54739,"leave":17138,"remain":37601},{"id":171,"name":"Kettering","time":"01:06","population":70566,"turnout":53907,"leave":32877,"remain":21030},{"id":172,"name":"Kings Lynn & West Norfolk","time":"05:14","population":113870,"turnout":85080,"leave":56493,"remain":28587},{"id":173,"name":"Kingston-upon-Hull","time":"04:33","population":180230,"turnout":113355,"leave":76646,"remain":36709},{"id":174,"name":"Kingston-upon-Thames","time":"05:05","population":108835,"turnout":85270,"leave":32737,"remain":52533},{"id":175,"name":"Kirklees","time":"04:32","population":307068,"turnout":217240,"leave":118755,"remain":98485},{"id":176,"name":"Knowsley","time":"02:32","population":111631,"turnout":70903,"leave":36558,"remain":34345},{"id":177,"name":"Lambeth","time":"02:21","population":210766,"turnout":141924,"leave":30340,"remain":111584},{"id":178,"name":"Lancaster","time":"04:15","population":100554,"turnout":73041,"leave":37309,"remain":35732},{"id":179,"name":"Leeds","time":"04:59","population":543037,"turnout":387337,"leave":192474,"remain":194863},{"id":180,"name":"Leicester","time":"04:44","population":213807,"turnout":138972,"leave":67992,"remain":70980},{"id":181,"name":"Lewes","time":"03:55","population":76463,"turnout":59482,"leave":28508,"remain":30974},{"id":182,"name":"Lewisham","time":"05:28","population":197514,"turnout":124473,"leave":37518,"remain":86955},{"id":183,"name":"Lichfield","time":"03:37","population":80371,"turnout":63278,"leave":37214,"remain":26064},{"id":184,"name":"Lincoln","time":"02:53","population":63336,"turnout":43894,"leave":24992,"remain":18902},{"id":185,"name":"Liverpool","time":"02:52","population":317901,"turnout":203554,"leave":85101,"remain":118453},{"id":186,"name":"Luton","time":"04:32","population":127604,"turnout":84481,"leave":47773,"remain":36708},{"id":187,"name":"Maidstone","time":"03:02","population":117226,"turnout":89127,"leave":52365,"remain":36762},{"id":188,"name":"Maldon","time":"05:01","population":49063,"turnout":38831,"leave":24302,"remain":14529},{"id":189,"name":"Malvern Hills","time":"02:50","population":60215,"turnout":48497,"leave":25294,"remain":23203},{"id":190,"name":"Manchester","time":"03:49","population":338049,"turnout":201814,"leave":79991,"remain":121823},{"id":191,"name":"Mansfield","time":"04:47","population":77586,"turnout":56344,"leave":39927,"remain":16417},{"id":192,"name":"Medway","time":"05:22","population":195172,"turnout":138886,"leave":88997,"remain":49889},{"id":193,"name":"Melton","time":"05:36","population":37268,"turnout":30305,"leave":17610,"remain":12695},{"id":194,"name":"Mendip","time":"05:00","population":85054,"turnout":65455,"leave":32028,"remain":33427},{"id":195,"name":"Merthyr Tydfil","time":"01:44","population":42854,"turnout":28865,"leave":16291,"remain":12574},{"id":196,"name":"Merton","time":"03:09","population":136333,"turnout":100100,"leave":37097,"remain":63003},{"id":197,"name":"Mid Devon","time":"03:31","population":60531,"turnout":48006,"leave":25606,"remain":22400},{"id":198,"name":"Mid Suffolk","time":"05:30","population":78325,"turnout":61185,"leave":33794,"remain":27391},{"id":199,"name":"Mid Sussex","time":"05:20","population":108416,"turnout":87528,"leave":41057,"remain":46471},{"id":200,"name":"Middlesbrough","time":"01:56","population":94610,"turnout":61358,"leave":40177,"remain":21181},{"id":201,"name":"Midlothian","time":"01:46","population":66757,"turnout":45468,"leave":17251,"remain":28217},{"id":202,"name":"Milton Keynes","time":"03:24","population":177234,"turnout":130456,"leave":67063,"remain":63393},{"id":203,"name":"Mole Valley","time":"03:06","population":66730,"turnout":54796,"leave":25708,"remain":29088},{"id":204,"name":"Monmouthshire","time":"03:28","population":71607,"turnout":55630,"leave":27569,"remain":28061},{"id":205,"name":"Moray","time":"02:38","population":71367,"turnout":48106,"leave":23992,"remain":24114},{"id":206,"name":"Neath Port Talbot","time":"03:20","population":105767,"turnout":75652,"leave":43001,"remain":32651},{"id":207,"name":"New Forest","time":"03:27","population":141057,"turnout":111740,"leave":64541,"remain":47199},{"id":208,"name":"Newark & Sherwood","time":"04:14","population":87322,"turnout":67087,"leave":40516,"remain":26571},{"id":209,"name":"Newcastle-under-Lyme","time":"04:57","population":92812,"turnout":68934,"leave":43457,"remain":25477},{"id":210,"name":"Newcastle-upon-Tyne","time":"00:00","population":190735,"turnout":129003,"leave":63598,"remain":65405},{"id":211,"name":"Newham","time":"04:25","population":176956,"turnout":104699,"leave":49371,"remain":55328},{"id":212,"name":"Newport","time":"02:28","population":104986,"turnout":73649,"leave":41236,"remain":32413},{"id":213,"name":"North Ayrshire","time":"02:30","population":104570,"turnout":67504,"leave":29110,"remain":38394},{"id":214,"name":"North Devon","time":"04:09","population":75540,"turnout":58031,"leave":33100,"remain":24931},{"id":215,"name":"North Dorset","time":"02:58","population":52981,"turnout":42201,"leave":23802,"remain":18399},{"id":216,"name":"North East Derbyshire","time":"05:32","population":78851,"turnout":59310,"leave":37235,"remain":22075},{"id":217,"name":"North East Lincolnshire","time":"02:46","population":116294,"turnout":78982,"leave":55185,"remain":23797},{"id":218,"name":"North Hertfordshire","time":"03:29","population":99306,"turnout":77672,"leave":35438,"remain":42234},{"id":219,"name":"North Kesteven","time":"03:36","population":86464,"turnout":67753,"leave":42183,"remain":25570},{"id":220,"name":"North Lanarkshire","time":"02:45","population":254562,"turnout":154949,"leave":59400,"remain":95549},{"id":221,"name":"North Lincolnshire","time":"04:20","population":123597,"turnout":88862,"leave":58915,"remain":29947},{"id":222,"name":"North Norfolk","time":"04:11","population":83057,"turnout":63790,"leave":37576,"remain":26214},{"id":223,"name":"North Somerset","time":"05:48","population":160852,"turnout":124548,"leave":64976,"remain":59572},{"id":224,"name":"North Tyneside","time":"02:36","population":156975,"turnout":113462,"leave":60589,"remain":52873},{"id":225,"name":"North Warwickshire","time":"02:21","population":49789,"turnout":37954,"leave":25385,"remain":12569},{"id":226,"name":"North West Leicestershire","time":"02:58","population":73943,"turnout":57611,"leave":34969,"remain":22642},{"id":227,"name":"Northampton","time":"06:39","population":144914,"turnout":105259,"leave":61454,"remain":43805},{"id":228,"name":"Northern Ireland","time":"04:50","population":1260955,"turnout":790149,"leave":349442,"remain":440707},{"id":229,"name":"Northumberland","time":"06:04","population":240480,"turnout":178721,"leave":96699,"remain":82022},{"id":230,"name":"Norwich","time":"03:39","population":96081,"turnout":66366,"leave":29040,"remain":37326},{"id":231,"name":"Nottingham","time":"03:37","population":195391,"turnout":120661,"leave":61343,"remain":59318},{"id":232,"name":"Nuneaton & Bedworth","time":"02:41","population":93973,"turnout":69831,"leave":46095,"remain":23736},{"id":233,"name":"Oadby & Wigston","time":"03:16","population":42680,"turnout":31465,"leave":17173,"remain":14292},{"id":234,"name":"Oldham","time":"03:09","population":158084,"turnout":107403,"leave":65369,"remain":42034},{"id":235,"name":"Orkney Islands","time":"00:04","population":16658,"turnout":11382,"leave":4193,"remain":7189},{"id":236,"name":"Oxford","time":"02:27","population":97309,"turnout":70337,"leave":20913,"remain":49424},{"id":237,"name":"Pembrokeshire","time":"03:10","population":91649,"turnout":68522,"leave":39155,"remain":29367},{"id":238,"name":"Pendle","time":"02:34","population":64533,"turnout":45335,"leave":28631,"remain":16704},{"id":239,"name":"Perth & Kinross","time":"02:39","population":110217,"turnout":81255,"leave":31614,"remain":49641},{"id":240,"name":"Peterborough","time":"03:18","population":120884,"turnout":87392,"leave":53216,"remain":34176},{"id":241,"name":"Plymouth","time":"04:14","population":186980,"turnout":133455,"leave":79997,"remain":53458},{"id":242,"name":"Poole","time":"03:55","population":113418,"turnout":85448,"leave":49707,"remain":35741},{"id":243,"name":"Portsmouth","time":"03:56","population":140509,"turnout":98720,"leave":57336,"remain":41384},{"id":244,"name":"Powys","time":"03:42","population":103265,"turnout":79469,"leave":42707,"remain":36762},{"id":245,"name":"Preston","time":"04:00","population":94284,"turnout":64745,"leave":34518,"remain":30227},{"id":246,"name":"Purbeck","time":"03:29","population":36427,"turnout":28720,"leave":16966,"remain":11754},{"id":247,"name":"Reading","time":"03:44","population":103166,"turnout":74767,"leave":31382,"remain":43385},{"id":248,"name":"Redbridge","time":"05:53","population":189831,"turnout":128233,"leave":59020,"remain":69213},{"id":249,"name":"Redcar & Cleveland","time":"02:06","population":103503,"turnout":72714,"leave":48128,"remain":24586},{"id":250,"name":"Redditch","time":"03:11","population":61029,"turnout":45882,"leave":28579,"remain":17303},{"id":251,"name":"Reigate & Banstead","time":"03:40","population":103727,"turnout":81161,"leave":40980,"remain":40181},{"id":252,"name":"Renfrewshire","time":"01:47","population":127290,"turnout":88129,"leave":31010,"remain":57119},{"id":253,"name":"Rhondda Cynon Taf","time":"02:51","population":172877,"turnout":116563,"leave":62590,"remain":53973},{"id":254,"name":"Ribble Valley","time":"02:53","population":46139,"turnout":36442,"leave":20550,"remain":15892},{"id":255,"name":"Richmond-upon-Thames","time":"03:00","population":132626,"turnout":108806,"leave":33410,"remain":75396},{"id":256,"name":"Richmondshire","time":"03:02","population":36795,"turnout":27636,"leave":15691,"remain":11945},{"id":257,"name":"Rochdale","time":"03:14","population":156598,"turnout":103231,"leave":62014,"remain":41217},{"id":258,"name":"Rochford","time":"01:59","population":66587,"turnout":52447,"leave":34937,"remain":17510},{"id":259,"name":"Rossendale","time":"03:35","population":52753,"turnout":38181,"leave":23169,"remain":15012},{"id":260,"name":"Rother","time":"03:05","population":72748,"turnout":57669,"leave":33753,"remain":23916},{"id":261,"name":"Rotherham","time":"04:30","population":197616,"turnout":137387,"leave":93272,"remain":44115},{"id":262,"name":"Rugby","time":"02:53","population":74127,"turnout":58549,"leave":33199,"remain":25350},{"id":263,"name":"Runnymede","time":"03:07","population":58269,"turnout":44294,"leave":24035,"remain":20259},{"id":264,"name":"Rushcliffe","time":"04:11","population":86397,"turnout":70410,"leave":29888,"remain":40522},{"id":265,"name":"Rushmoor","time":"03:39","population":65783,"turnout":48780,"leave":28396,"remain":20384},{"id":266,"name":"Rutland","time":"04:26","population":29382,"turnout":22966,"leave":11613,"remain":11353},{"id":267,"name":"Ryedale","time":"03:45","population":41511,"turnout":32050,"leave":17710,"remain":14340},{"id":268,"name":"Salford","time":"04:15","population":173665,"turnout":109815,"leave":62385,"remain":47430},{"id":269,"name":"Sandwell","time":"04:25","population":221441,"turnout":147254,"leave":98250,"remain":49004},{"id":270,"name":"Scarborough","time":"03:14","population":82891,"turnout":60511,"leave":37512,"remain":22999},{"id":271,"name":"Scottish Borders","time":"03:09","population":88426,"turnout":64914,"leave":26962,"remain":37952},{"id":272,"name":"Sedgemoor","time":"04:49","population":89700,"turnout":68414,"leave":41869,"remain":26545},{"id":273,"name":"Sefton","time":"04:03","population":206298,"turnout":147878,"leave":71176,"remain":76702},{"id":274,"name":"Selby","time":"04:26","population":65280,"turnout":51603,"leave":30532,"remain":21071},{"id":275,"name":"Sevenoaks","time":"03:20","population":87241,"turnout":70349,"leave":38258,"remain":32091},{"id":276,"name":"Sheffield","time":"03:27","population":393055,"turnout":266753,"leave":136018,"remain":130735},{"id":277,"name":"Shepway","time":"03:24","population":80872,"turnout":60613,"leave":37729,"remain":22884},{"id":278,"name":"Shetland Islands","time":"01:13","population":17375,"turnout":12222,"leave":5315,"remain":6907},{"id":279,"name":"Shropshire","time":"05:25","population":236761,"turnout":183153,"leave":104166,"remain":78987},{"id":280,"name":"Slough","time":"03:54","population":87868,"turnout":54542,"leave":29631,"remain":24911},{"id":281,"name":"Solihull","time":"05:20","population":160425,"turnout":121950,"leave":68484,"remain":53466},{"id":282,"name":"South Ayrshire","time":"02:19","population":88111,"turnout":61506,"leave":25241,"remain":36265},{"id":283,"name":"South Bucks","time":"03:19","population":52190,"turnout":40724,"leave":20647,"remain":20077},{"id":284,"name":"South Cambridgeshire","time":"04:08","population":114830,"turnout":93189,"leave":37061,"remain":56128},{"id":285,"name":"South Derbyshire","time":"04:36","population":73854,"turnout":56695,"leave":34216,"remain":22479},{"id":286,"name":"South Gloucestershire","time":"05:37","population":207788,"turnout":158333,"leave":83405,"remain":74928},{"id":287,"name":"South Hams","time":"03:50","population":69120,"turnout":55450,"leave":26142,"remain":29308},{"id":288,"name":"South Holland","time":"04:14","population":65699,"turnout":49497,"leave":36423,"remain":13074},{"id":289,"name":"South Kesteven","time":"05:38","population":105454,"turnout":82471,"leave":49424,"remain":33047},{"id":290,"name":"South Lakeland","time":"03:39","population":81940,"turnout":65331,"leave":30800,"remain":34531},{"id":291,"name":"South Lanarkshire","time":"02:33","population":248954,"turnout":162592,"leave":60024,"remain":102568},{"id":292,"name":"South Norfolk","time":"03:39","population":102396,"turnout":80358,"leave":41541,"remain":38817},{"id":293,"name":"South Northamptonshire","time":"04:50","population":71301,"turnout":56624,"leave":30771,"remain":25853},{"id":294,"name":"South Oxfordshire","time":"04:03","population":104227,"turnout":84110,"leave":37865,"remain":46245},{"id":295,"name":"South Ribble","time":"03:15","population":84567,"turnout":63724,"leave":37318,"remain":26406},{"id":296,"name":"South Somerset","time":"03:15","population":126488,"turnout":99467,"leave":56940,"remain":42527},{"id":297,"name":"South Staffordshire","time":"04:15","population":85788,"turnout":66692,"leave":43248,"remain":23444},{"id":298,"name":"South Tyneside","time":"01:18","population":115888,"turnout":79079,"leave":49065,"remain":30014},{"id":299,"name":"Southampton","time":"04:31","population":158164,"turnout":107665,"leave":57927,"remain":49738},{"id":300,"name":"Southend-on-Sea","time":"02:01","population":128844,"turnout":93870,"leave":54522,"remain":39348},{"id":301,"name":"Southwark","time":"05:23","population":195847,"turnout":129502,"leave":35209,"remain":94293},{"id":302,"name":"Spelthorne","time":"04:45","population":72674,"turnout":56609,"leave":34135,"remain":22474},{"id":303,"name":"St Albans","time":"02:58","population":104858,"turnout":86445,"leave":32237,"remain":54208},{"id":304,"name":"St Edmundsbury","time":"03:53","population":81148,"turnout":62210,"leave":35224,"remain":26986},{"id":305,"name":"St Helens","time":"02:12","population":136086,"turnout":93679,"leave":54357,"remain":39322},{"id":306,"name":"Stafford","time":"04:32","population":99605,"turnout":77484,"leave":43386,"remain":34098},{"id":307,"name":"Staffordshire Moorlands","time":"05:14","population":79364,"turnout":59760,"leave":38684,"remain":21076},{"id":308,"name":"Stevenage","time":"02:25","population":62150,"turnout":45785,"leave":27126,"remain":18659},{"id":309,"name":"Stirling","time":"02:20","population":66100,"turnout":48899,"leave":15787,"remain":33112},{"id":310,"name":"Stockport","time":"04:24","population":217649,"turnout":163489,"leave":77930,"remain":85559},{"id":311,"name":"Stockton-on-Tees","time":"01:45","population":141486,"turnout":100415,"leave":61982,"remain":38433},{"id":312,"name":"Stoke-on-Trent","time":"06:13","population":178987,"turnout":117590,"leave":81563,"remain":36027},{"id":313,"name":"Stratford-on-Avon","time":"03:21","population":98004,"turnout":79158,"leave":40817,"remain":38341},{"id":314,"name":"Stroud","time":"02:44","population":92632,"turnout":74064,"leave":33618,"remain":40446},{"id":315,"name":"Suffolk Coastal","time":"04:37","population":98191,"turnout":79184,"leave":41966,"remain":37218},{"id":316,"name":"Sunderland","time":"00:17","population":207207,"turnout":134324,"leave":82394,"remain":51930},{"id":317,"name":"Surrey Heath","time":"03:06","population":65553,"turnout":52305,"leave":26667,"remain":25638},{"id":318,"name":"Sutton","time":"04:03","population":140280,"turnout":106560,"leave":57241,"remain":49319},{"id":319,"name":"Swale","time":"04:11","population":102208,"turnout":75869,"leave":47388,"remain":28481},{"id":320,"name":"Swansea","time":"02:01","population":172950,"turnout":120243,"leave":61936,"remain":58307},{"id":321,"name":"Swindon","time":"00:55","population":148967,"turnout":112965,"leave":61745,"remain":51220},{"id":322,"name":"Tameside","time":"03:28","population":168047,"turnout":110947,"leave":67829,"remain":43118},{"id":323,"name":"Tamworth","time":"02:26","population":56823,"turnout":42129,"leave":28424,"remain":13705},{"id":324,"name":"Tandridge","time":"03:10","population":64044,"turnout":51420,"leave":27169,"remain":24251},{"id":325,"name":"Taunton Deane","time":"05:36","population":84150,"turnout":65733,"leave":34789,"remain":30944},{"id":326,"name":"Teignbridge","time":"03:57","population":103735,"turnout":82312,"leave":44363,"remain":37949},{"id":327,"name":"Telford & Wrekin","time":"03:13","population":124339,"turnout":89603,"leave":56649,"remain":32954},{"id":328,"name":"Tendring","time":"03:46","population":111159,"turnout":82657,"leave":57447,"remain":25210},{"id":329,"name":"Test Valley","time":"03:58","population":94552,"turnout":75261,"leave":39091,"remain":36170},{"id":330,"name":"Tewkesbury","time":"04:49","population":67831,"turnout":53652,"leave":28568,"remain":25084},{"id":331,"name":"Thanet","time":"04:16","population":99126,"turnout":72102,"leave":46037,"remain":26065},{"id":332,"name":"Three Rivers","time":"04:06","population":67382,"turnout":52848,"leave":27097,"remain":25751},{"id":333,"name":"Thurrock","time":"03:21","population":109889,"turnout":79916,"leave":57765,"remain":22151},{"id":334,"name":"Tonbridge & Malling","time":"04:38","population":93013,"turnout":74021,"leave":41229,"remain":32792},{"id":335,"name":"Torbay","time":"02:30","population":102945,"turnout":75824,"leave":47889,"remain":27935},{"id":336,"name":"Torfaen","time":"03:57","population":68946,"turnout":48144,"leave":28781,"remain":19363},{"id":337,"name":"Torridge","time":"03:39","population":52875,"turnout":41429,"leave":25200,"remain":16229},{"id":338,"name":"Tower Hamlets","time":"04:02","population":167789,"turnout":108235,"leave":35224,"remain":73011},{"id":339,"name":"Trafford","time":"04:22","population":165238,"turnout":125311,"leave":53018,"remain":72293},{"id":340,"name":"Tunbridge Wells","time":"04:13","population":82178,"turnout":64996,"leave":29320,"remain":35676},{"id":341,"name":"Uttlesford","time":"02:41","population":64733,"turnout":51943,"leave":26324,"remain":25619},{"id":342,"name":"Vale of Glamorgan","time":"03:13","population":95003,"turnout":72309,"leave":35628,"remain":36681},{"id":343,"name":"Vale of White Horse","time":"03:44","population":94479,"turnout":76654,"leave":33192,"remain":43462},{"id":344,"name":"Wakefield","time":"04:26","population":246096,"turnout":175042,"leave":116165,"remain":58877},{"id":345,"name":"Walsall","time":"03:36","population":194714,"turnout":135579,"leave":92007,"remain":43572},{"id":346,"name":"Waltham Forest","time":"03:39","population":162971,"turnout":108551,"leave":44395,"remain":64156},{"id":347,"name":"Wandsworth","time":"02:27","population":219516,"turnout":157884,"leave":39421,"remain":118463},{"id":348,"name":"Warrington","time":"04:46","population":157035,"turnout":115144,"leave":62487,"remain":52657},{"id":349,"name":"Warwick","time":"04:11","population":103098,"turnout":81618,"leave":33642,"remain":47976},{"id":350,"name":"Watford","time":"02:45","population":65048,"turnout":46586,"leave":23419,"remain":23167},{"id":351,"name":"Waveney","time":"05:00","population":90385,"turnout":65646,"leave":41290,"remain":24356},{"id":352,"name":"Waverley","time":"04:32","population":92291,"turnout":75942,"leave":31601,"remain":44341},{"id":353,"name":"Wealden","time":"06:38","population":121162,"turnout":96892,"leave":52808,"remain":44084},{"id":354,"name":"Wellingborough","time":"02:01","population":54566,"turnout":41141,"leave":25679,"remain":15462},{"id":355,"name":"Welwyn Hatfield","time":"03:33","population":78124,"turnout":58610,"leave":31060,"remain":27550},{"id":356,"name":"West Berkshire","time":"04:23","population":116747,"turnout":93277,"leave":44977,"remain":48300},{"id":357,"name":"West Devon","time":"02:57","population":43836,"turnout":35595,"leave":18937,"remain":16658},{"id":358,"name":"West Dorset","time":"02:54","population":82071,"turnout":65191,"leave":33267,"remain":31924},{"id":359,"name":"West Dunbartonshire","time":"01:22","population":67589,"turnout":43220,"leave":16426,"remain":26794},{"id":360,"name":"West Lancashire","time":"04:38","population":85833,"turnout":63869,"leave":35323,"remain":28546},{"id":361,"name":"West Lindsey","time":"05:21","population":73504,"turnout":54753,"leave":33847,"remain":20906},{"id":362,"name":"West Lothian","time":"02:08","population":130920,"turnout":88508,"leave":36948,"remain":51560},{"id":363,"name":"West Oxfordshire","time":"04:25","population":82437,"turnout":65671,"leave":30435,"remain":35236},{"id":364,"name":"West Somerset","time":"03:05","population":27476,"turnout":21734,"leave":13168,"remain":8566},{"id":365,"name":"Westminster","time":"03:11","population":120524,"turnout":78196,"leave":24268,"remain":53928},{"id":366,"name":"Weymouth & Portland","time":"01:54","population":50441,"turnout":38255,"leave":23352,"remain":14903},{"id":367,"name":"Wigan","time":"02:44","population":235975,"turnout":163273,"leave":104331,"remain":58942},{"id":368,"name":"Wiltshire","time":"04:50","population":366546,"turnout":288895,"leave":151637,"remain":137258},{"id":369,"name":"Winchester","time":"04:45","population":89581,"turnout":72764,"leave":29886,"remain":42878},{"id":370,"name":"Windsor & Maidenhead Royal","time":"05:07","population":102650,"turnout":81792,"leave":37706,"remain":44086},{"id":371,"name":"Wirral","time":"03:23","population":242558,"turnout":172000,"leave":83069,"remain":88931},{"id":372,"name":"Woking","time":"03:35","population":71275,"turnout":55221,"leave":24214,"remain":31007},{"id":373,"name":"Wokingham","time":"04:33","population":123107,"turnout":97501,"leave":42229,"remain":55272},{"id":374,"name":"Wolverhampton","time":"03:19","population":174758,"turnout":117936,"leave":73798,"remain":44138},{"id":375,"name":"Worcester","time":"03:19","population":73516,"turnout":54239,"leave":29114,"remain":25125},{"id":376,"name":"Worthing","time":"04:45","population":81375,"turnout":61366,"leave":32515,"remain":28851},{"id":377,"name":"Wrexham","time":"02:30","population":98376,"turnout":70366,"leave":41544,"remain":28822},{"id":378,"name":"Wychavon","time":"04:25","population":94497,"turnout":76389,"leave":44201,"remain":32188},{"id":379,"name":"Wycombe","time":"04:23","population":125260,"turnout":94790,"leave":45529,"remain":49261},{"id":380,"name":"Wyre","time":"04:39","population":84471,"turnout":62979,"leave":40163,"remain":22816},{"id":381,"name":"Wyre Forest","time":"02:51","population":77875,"turnout":57632,"leave":36392,"remain":21240},{"id":382,"name":"York","time":"05:25","population":155157,"turnout":109600,"leave":45983,"remain":63617}],

    tables: {
      $byCountry: $('table.signatures.signatures--by-country'),
      $byConstituency: $('table.signatures.signatures--by-constituency'),
    },

    totals: {
      signatures: $('span.total--signatures')
    },

    total: null,

    loadData: function() {
      var self = this;

      $.ajax({
        url: 'https://petition.parliament.uk/petitions/131215.json',
        method: 'get',
        success: function(data) {
          self.total = data.data.attributes.signature_count;
          self.totals.signatures.html(self.total.toLocaleString('en-EN'));

          var countryVotes = data.data.attributes.signatures_by_country;
          var countrySorted = _.reverse(_.sortBy(countryVotes, ['signature_count']));

          var constituencyVotes = data.data.attributes.signatures_by_constituency;
          var constituencySorted = _.reverse(_.sortBy(constituencyVotes, ['signature_count']));
         
          self.renderSignaturesByCountry(countrySorted);
          self.renderSignaturesByConstituency(constituencySorted);
        },
        error: function(err) {
          console.error(err);
        }
      });
    },

    createCell: function(content) {
      var $cell = $('<td>');
      $cell.html(content);

      return $cell;
    },

    createCountryRow: function(record, i) {
      var $row = $('<tr>');
      $row.append(this.createCell(i+1));
      $row.append(this.createCell(record.name));
      $row.append(this.createCell(record.signature_count.toLocaleString('en-GB')));
      $row.append(this.createCell((record.signature_count/this.total*100).toFixed(3)));

      return $row;
    },

    createConstituencyRow: function(record, i) {

     // var result = _.filter(this.results, {name: record.name});


      var $row = $('<tr>');
      $row.append(this.createCell(i+1));
      $row.append(this.createCell(record.name));
      $row.append(this.createCell(record.signature_count.toLocaleString('en-EN')));
      $row.append(this.createCell((record.signature_count/this.total*100).toFixed(3)));

      /*if(result.length > 0) {
        $row.append(this.createCell(result[0].leave));
        $row.append(this.createCell(result[0].remain));
      }*/

      return $row;
    },

    renderSignaturesByCountry: function(records) {
      var self = this,
          $row;

      _.forEach(records, function(record, i) {
        $row = self.createCountryRow(record, i);

        self.tables.$byCountry.find('tbody').append($row);
      });
    },

    renderSignaturesByConstituency: function(records) {
      var self = this,
          $row;

      _.forEach(records, function(record, i) {
        $row = self.createConstituencyRow(record, i);

        self.tables.$byConstituency.find('tbody').append($row);
      });
    }

  };

  app.init();

})(jQuery);